{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Community posts: restrict edit UI to post author only",
  "requirements": [
    {
      "id": "REQ-2",
      "summary": "Update Community page permissions so the Edit UI is shown only to the original post author (principal match), even if the viewer is an admin; keep delete controls unchanged (admins can still delete any post).",
      "acceptanceCriteria": [
        "When logged in as an admin, the Edit button is not shown for posts authored by other users.",
        "When logged in as an admin, the Edit button is shown only for posts where the admin is also the author.",
        "When logged in as a non-admin user, the Edit button is shown only for that user's own posts (no change from current expected behavior).",
        "Delete controls remain unchanged: admins can delete any post; non-admin users can delete only their own posts."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/CommunityPage.tsx",
          "operation": "modify",
          "description": "Adjust the computed canEditPost logic so it returns true only when the authenticated user's principal matches post.author, and does not grant edit rights based on admin status. Keep canDeletePost logic as-is so admins can still delete any post and users can delete their own posts. Use the selected \"authorization\" componentâ€™s frontend guidance for comparing the current user's principal (from useInternetIdentity identity.getPrincipal()) with post.author. Verify the component's usage instructions before implementing."
        }
      ]
    }
  ]
}